source = ~/.config/hypr/colors.conf
# =============================================================================
#  VARIABLES & MONITORS
# =============================================================================
$mainMod = SUPER
$terminal = ghostty
$menu = fuzzel
$browser = zen-browser

# Monitor Config (Matches your Niri DP-1 settings)
# [cite: 4]
monitor=DP-1, 1920x1080@120, -1080x0, 1
monitor=,preferred,auto,1

# =============================================================================
#  AUTOSTART
# =============================================================================
# [cite: 47, 48]
exec-once = waybar
exec-once = /usr/lib/mate-polkit/polkit-mate-authentication-agent-1
exec-once = mako
exec-once = hypridle
exec-once = swww-daemon && swww img ~/Pictures/wallpaper/ireland-hills.jpg
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# =============================================================================
#  INPUT
# =============================================================================
# [cite: 15]
input {
    kb_layout = us,ara
    kb_options = grp:win_space_toggle,compose:ralt
    
    repeat_rate = 35
    repeat_delay = 200

    touchpad {
        natural_scroll = true
        tap-to-click = true
    }
}

gestures {
}

# =============================================================================
#  GENERAL & DECORATION
# =============================================================================
general {
    gaps_in = 4
    gaps_out = 7 # Niri had gaps 5[cite: 25], adjusted for Hyprland look
    border_size = 3
    col.active_border = $primary # [cite: 42]
    col.inactive_border = $outline

    layout = dwindle # Hyprland's spiral layout (closest to "automatic")
}

decoration {
    rounding = 12
    
    # Matching your Niri "inactive opacity 0.9" rule [cite: 56]
    active_opacity = 0.85
    inactive_opacity = 0.7

    blur {
        enabled = true
        size = 4
        passes = 2
    }
    
    shadow {
        enabled = true
        range = 10
        render_power = 4
        color = $shadow # [cite: 42]
    }
}

# =============================================================================
#  ANIMATIONS (Fast & Snappy)
# =============================================================================
animations {
    enabled = true

    # "fastBezier" - Starts fast, hits the target, then slight settle.
    bezier = fastBezier, 0.05, 0.9, 0.1, 1.05
    
    # "linear" - Good for sliding workspaces
    bezier = linear, 0.0, 0.0, 1.0, 1.0

    # Syntax: animation = NAME, ON/OFF, SPEED (1=fastest), CURVE
    
    # Windows: Open/Close in 300ms (was 700ms)
    animation = windows, 1, 3, fastBezier
    animation = windowsOut, 1, 3, default, popin 80%
    
    # Border colors change instantly
    animation = border, 1, 2, default
    
    # Fade in/out very quickly
    animation = fade, 1, 2, default

    # Workspaces: Slide quickly (300ms)
    animation = workspaces, 1, 3, fastBezier
}

# =============================================================================
#  WINDOW RULES (Hyprland v0.53+ Syntax)
# =============================================================================

# --- Floating Rules ---
# Syntax: windowrule = match:class [REGEX], [PROPERTY] [VALUE]

windowrule = match:class ^(org.gnome.Calculator)$, float on
windowrule = match:class ^(galculator)$, float on
windowrule = match:class ^(pavucontrol)$, float on
windowrule = match:class ^(nm-connection-editor)$, float on
windowrule = match:class ^(blueman-manager)$, float on
windowrule = match:class ^(org.gnome.Nautilus)$, float on
windowrule = match:class ^(steam)$, float on
windowrule = match:class ^(xdg-desktop-portal)$, float on
windowrule = match:class ^(Windscribe)$, float on
windowrule = match:class ^(io.missioncenter.MissionCenter)$, float on

# --- Ghostty Specific Rules ---
# Note: Multiple properties for one match are comma-separated
windowrule = match:class ^(com.mitchellh.ghostty.floating)$, float on, center on, size 800 500

# Float ALL file dialogs (Zenity, Save As, Open File)
windowrule = match:class ^(xdg-desktop-portal-gtk)$, float on
windowrule = match:class ^(xdg-desktop-portal-gtk)$, center on
windowrule = match:class ^(xdg-desktop-portal-gtk)$, size 900 600


# =============================================================================
#  WORKSPACE BINDINGS (The "Saved Workspaces" You Asked For)
# =============================================================================

# Terminal -> Workspace 1
windowrule = match:class ^(com.mitchellh.ghostty)$, workspace 1
windowrule = match:class ^(Alacritty)$, workspace 1
windowrule = match:class ^(kitty)$, workspace 1

# Browsers -> Workspace 2
windowrule = match:class ^(zen)$, workspace 2
windowrule = match:class ^(firefox)$, workspace 2
windowrule = match:class ^(Google-chrome)$, workspace 2

# Code -> Workspace 3
windowrule = match:class ^(Code)$, workspace 3
windowrule = match:class ^(steam)$, workspace 3

# Chat/Media -> Workspace 4
windowrule = match:class ^(discord)$, workspace 5
windowrule = match:class ^(Spotify)$, workspace 4

# Silent Rules (Background opening)
# Use this if you want an app to open on a workspace without switching to it
# windowrule = match:class ^(discord)$, workspace 4 silentindowrulev2 = workspace 2, class:^(zen-browser)$




# =============================================================================
#  KEYBINDINGS
# =============================================================================

# --- Applications ---
bind = $mainMod, Q, exec, $terminal # [cite: 67]
bind = $mainMod SHIFT, Q, exec, ghostty --class="com.mitchellh.ghostty.floating" # [cite: 70]
bind = ALT, Space, exec, $menu # [cite: 68]
bind = $mainMod, E, exec, $terminal -e yazi # [cite: 63]
bind = $mainMod, B, exec, $browser # [cite: 65]
bind = $mainMod, L, exec, hyprlock # [cite: 66]
bind = $mainMod, P, exec, wlogout
bind = $mainMod SHIFT, E, exit # [cite: 71]
bind = $mainMod SHIFT, B, exec, pkill waybar; waybar # [cite: 60]

# Press Super + W to open the wallpaper picker
bind = $mainMod, W, exec, ~/.config/hypr/scripts/wallpaper-picker.sh

# --- Clipboard (Cliphist) ---
bind = $mainMod, V, exec, cliphist list | fuzzel --dmenu --width 70 | cliphist decode | wl-copy # [cite: 69]

# --- Screenshots ---
# [cite: 64, 141]
bind = , Print, exec, grim -g "$(slurp)" - | swappy -f -
bind = $mainMod SHIFT, S, exec, grim -g "$(slurp)" - | swappy -f -

# --- Window Management ---
bind = $mainMod, C, killactive # [cite: 75]
bind = $mainMod SHIFT, T, togglefloating # [cite: 76]
bind = $mainMod SHIFT, F, fullscreen # [cite: 76]
bind = $mainMod, F, fullscreen, 1 # Maximize (closest to maximize-column)

# --- Focus Navigation (Vim + Arrow) ---
# [cite: 78-83]
bind = $mainMod, Left, movefocus, l
bind = $mainMod, Right, movefocus, r
bind = $mainMod, Up, movefocus, u
bind = $mainMod, Down, movefocus, d
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d

# --- Move Windows ---
# [cite: 84-89]
bind = $mainMod SHIFT, Left, movewindow, l
bind = $mainMod SHIFT, Right, movewindow, r
bind = $mainMod SHIFT, Up, movewindow, u
bind = $mainMod SHIFT, Down, movewindow, d
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, L, movewindow, r
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, J, movewindow, d

# --- Workspaces ---
# [cite: 104-107]
bind = $mainMod, Page_Down, workspace, m+1
bind = $mainMod, Page_Up, workspace, m-1
bind = $mainMod, U, workspace, m+1
bind = $mainMod, I, workspace, m-1

# --- Move Window to Workspace ---
# [cite: 111-113]
bind = $mainMod SHIFT, Page_Down, movetoworkspace, m+1
bind = $mainMod SHIFT, Page_Up, movetoworkspace, m-1
bind = $mainMod SHIFT, U, movetoworkspace, m+1
bind = $mainMod SHIFT, I, movetoworkspace, m-1

# --- Numbered Workspaces ---
# [cite: 122-131]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9

# --- Audio & Brightness ---
# [cite: 72-74]
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindl = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPrev, exec, playerctl previous
bindel = , XF86MonBrightnessUp, exec, brightnessctl set +5%
bindel = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# --- Mouse Bindings ---
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
